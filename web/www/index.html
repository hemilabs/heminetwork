<!--
 Copyright (c) 2024 Hemi Labs, Inc.
 Use of this source code is governed by the MIT License,
 which can be found in the LICENSE file.
-->

<html>
  <head>
    <meta charset="UTF-8" />
    <title>PoP miner integration tests</title>
  </head>

  <body>
    <script src="wasm_exec.js"></script>
    <script src="popminer.js"></script>

    <p>
      <button id="WASMPingButton">wasm ping</button>
      <span class="WASMPingShow"></span>
    </p>

    <p>
      <input id="GenerateKeyNetworkInput" value="testnet3">
      <label for="GenerateKeyNetworkInput">bitcoin network</label>
      <br>

      <button id="GenerateKeyButton">generate key</button>
      <span class="GenerateKeyShow"></span>
    </p>

    <p>
      <input id="RunPopMinerLogLevelInput" value="hemiwasm=INFO:popm=INFO:protocol=INFO">
      <label for="RunPopMinerLogLevelInput">log level</label>
      <br>

      <input id="RunPopMinerNetworkInput" value="testnet3">
      <label for="RunPopMinerNetworkInput">bitcoin network</label>
      <br>

      <input id="RunPopMinerPrivateKeyInput" value="">
      <label for="RunPopMinerPrivateKeyInput">bitcoin private key (must be funded)</label>
      <br>
      <input id="RunPopMinerStaticFeeInput" value="50">
      <label for="RunPopMinerStaticFeeInput">Fee to pay for PoP Mining (sat/vB)</label>
      <br>

      <button id="RunPopMinerButton">Run PoP Miner</button>
      <span class="RunPopMinerShow"></span>
    </p>

    <p>
      <button id="StopPopMinerButton">Stop PoP Miner</button>
      <span class="StopPopMinerShow"></span>
    </p>

    <!-- conected commands go here, run after RunPopMinerButton -->
    <hr>
    <div>The following commands require a live connection (after RunPopMinerButton)</div>
    <br>

    <p>
      <button id="PingButton">ping</button>
      <span class="PingShow"></span>
    </p>

    <p>
      <input id="L2KeystonesNumL2KeystonesInput" value=2 type="number">
      <label for="L2KeystonesNumL2KeystonesInput">num l2 keystones</label>
      <br>

      <button id="L2KeystonesButton">l2 keystones</button>
      <span class="L2KeystonesShow"></span>
    </p>

    <p>
      <input id="BitcoinBalanceScriptHashInput" value="xxx">
      <label for="BitcoinBalanceScriptHashInput">script hash</label>
      <br>

      <button id="BitcoinBalanceButton">bitcoin balance</button>
      <span class="BitcoinBalanceShow"></span>
    </p>

    <p>
      <button id="BitcoinInfoButton">bitcoin info</button>
      <span class="BitcoinInfoShow"></span>
    </p>

    <p>
      <input id="BitcoinUTXOsScriptHashInput" value="xxx">
      <label for="BitcoinUTXOsScriptHashInput">script hash</label>
      <br>

      <button id="BitcoinUTXOsButton">bitcoin utxos</button>
      <span class="BitcoinUTXOsShow"></span>
    </p>

    <script src="index.js" defer></script>
  </body>
</html>
